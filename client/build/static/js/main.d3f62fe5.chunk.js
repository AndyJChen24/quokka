(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(21),c=a.n(r),s=a(10),i=a(9),o=a.n(i),m=a(67),u=a(8),p={getPlants:()=>o.a.get("/api/plants"),getPlant:e=>o.a.get("/api/plants/".concat(e)),deletePlant:e=>o.a.delete("/api/plants/".concat(e)),savePlant:e=>o.a.post("/api/plants",e),searchPlantName:e=>o.a.get("/api/plants/species/".concat(e)),findRecent:()=>o.a.get("/api/plants/recent"),plantDetails:e=>o.a.get("/api/trefle/species/".concat(e))},d=a(111),E=a(105),h=a(106);var g=function({children:e}){return l.a.createElement("div",{style:{height:175,clear:"both",paddingTop:30,textAlign:"center",boxShadow:"0px 5px 5px 3px #F3969A",border:"3px solid #78C2AD"},className:"jumbotron"},e)};function f({fluid:e,children:t}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function x({fluid:e,children:t}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function b({size:e,children:t}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-".concat(e)).join(" ")},t)}function v(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}a(90),a(91);function y({children:e}){return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},e))}function w({children:e}){return l.a.createElement("li",{className:"list-group-item"},e)}function N(e){const t={url:"https://via.placeholder.com/300/d3d3d3/000000?text=No%20image%20available"};return l.a.createElement(y,null,e.data.map(e=>l.a.createElement(w,{className:"list-overflow-container",key:e._id},l.a.createElement(f,{fluid:!0},l.a.createElement(x,null,l.a.createElement(b,{size:"md-6"},e.images[0]&&l.a.createElement("img",{width:"100%",src:e.images[0].url,alt:e.scientific_name})?e.images[0]&&l.a.createElement("img",{width:"100%",src:e.images[0].url,alt:e.scientific_name}):t&&l.a.createElement("img",{width:"100%",src:t.url,alt:"tex"})),l.a.createElement(b,{size:"md-6"},e.user_name," quokked ",e.common_name?e.common_name:e.scientific_name))))))}a(92),a(93);function S(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"spinner d"},l.a.createElement("svg",{className:"logo",width:"42px",height:"27px",viewBox:"0 0 42 27",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},l.a.createElement("path",{d:"M27.2861584,12.161723 C21.878637,13.1079515 17.6922039,20.3685835 15.4747077,25.1841521 C13.3245071,4.20375459 42,0 42,0 C42,0 37.9221081,28.5085611 15.7102421,26.9373612 L27.2861584,12.161723 Z M9.68859135,25.3642259 L4.07597867,14.6643189 C3.16588397,18.4076368 6.95830724,23.2066496 9.14123129,25.5907604 C-4.2897248,21.7286768 1.04594976,3.21222934 1.04594976,3.21222934 C1.04594976,3.21222934 15.98106,12.9521138 9.68859135,25.3642259 Z",id:"",fill:"#00ba69"}))))}function j(e){return l.a.createElement(l.a.Fragment,null,e.showSpinner&&l.a.createElement("div",null,l.a.createElement(S,null)),e.searchResults[0]&&l.a.createElement("div",{className:"list-overflow-container",style:{paddingTop:"20px",marginTop:"30px"}},l.a.createElement("p",null,"Results for postal code ",e.userZip," (autodetected from public IP address ",e.userIp,")"),l.a.createElement("ul",{className:"list-group"},e.searchResults&&e.searchResults.map(t=>l.a.createElement(O,{userName:e.userName,userIp:e.userIp,loadActivityFeed:e.loadActivityFeed,loadFavorites:e.loadFavorites,result:t,key:t.id})))))}function O(e){const t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1];return p.getPlant(e.result.id).then(e=>{e.data.exists?c(!0):c(!1)}).catch(e=>e),l.a.createElement("li",{className:"list-group-item"},l.a.createElement(y,null,e.result.common_name&&l.a.createElement(w,null,l.a.createElement("b",null,e.result.common_name)),l.a.createElement(w,null,"Scientific Name: ",e.result.scientific_name),l.a.createElement("div",{style:{margin:"auto",paddingTop:"20px"}},!r&&l.a.createElement("button",{onClick:()=>{return t=e.result.id,void p.plantDetails(t).then(t=>{t.data.user_name=e.userName,t.data.ip=e.userIp,t.data.trefle_id=t.data.id,p.savePlant(t.data).then(()=>{e.loadFavorites(),e.loadActivityFeed()})}).catch(e=>e);var t}},l.a.createElement("i",{className:"fa fa-leaf",style:{color:"green",padding:"5px"},icon:"leaf"}," Save to Favs")),r&&l.a.createElement("strong",null,"Favorite! This plant is on your list."))))}a(94),a(95);var k=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};function C({deleteFavorite:e,favorites:t}){const a={url:"https://via.placeholder.com/300/d3d3d3/000000?text=No%20image%20available"};return t.length?l.a.createElement(y,null,t.map(t=>l.a.createElement(w,{key:t.trefle_id},l.a.createElement("p",null,l.a.createElement("strong",null,t.common_name)),l.a.createElement("p",null,t.scientific_name),l.a.createElement(k,{onClick:()=>e(t._id)}),l.a.createElement("br",null),t.images[0]&&l.a.createElement("img",{width:"50%",src:t.images[0].url,alt:t.scientific_name})?t.images[0]&&l.a.createElement("img",{width:"50%",src:t.images[0].url,alt:t.scientific_name}):a&&l.a.createElement("img",{width:"50%",src:a.url,alt:"tex"})))):l.a.createElement("h3",null,"No Results to Display")}var F={getPlantsByMinTemp:e=>o.a.get("/api/trefle/temperature_minimum_deg_f/".concat(e)),getPlantsByName:e=>o.a.get("/api/trefle/name/".concat(e))},_={getTemperatureByZipcode:e=>o.a.get("/api/phzmapi/".concat(e))},R={getZipCodeByIp:e=>o.a.get("/api/geoip/".concat(e))};var B=function(e){const t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),m=o[0],u=o[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),S=w[0],O=w[1];function k(){p.findRecent().then(e=>c(e.data)).catch(e=>e)}return Object(n.useEffect)(()=>{k()},[]),l.a.createElement(f,{fluid:!0},l.a.createElement(x,null,l.a.createElement(b,{size:"md-5"},l.a.createElement(g,null,l.a.createElement("h1",null,"What Should I Plant?")),l.a.createElement("div",{style:{border:"3px solid #78C2AD",borderRadius:"10px",textAlign:"center",boxShadow:"0px 5px 5px 3px #F3969A",padding:"10px 1px 15px 1px"}},l.a.createElement(d.a,{defaultActiveKey:"Get Suggestions"},l.a.createElement(E.a,{eventKey:"Get Suggestions",title:"Get Suggestions"},l.a.createElement("p",{style:{paddingTop:"10px"}},"Click the Button to Get Suggestions!"),l.a.createElement(h.a,{onClick:function(t){t.preventDefault(),O(!0),e.setSearchResults([]),R.getZipCodeByIp(e.userIp).then(t=>{let a="97201";t.data&&(a=t.data.postal.code),_.getTemperatureByZipcode(a).then(t=>{const n=t.data.temperature_range.split(" ")[0];F.getPlantsByMinTemp(n).then(t=>{e.setSearchResults(t.data),O(!1),e.setUserZip(a)})})})}},"Get Suggestions")),l.a.createElement(E.a,{eventKey:"Search By Name",title:"Search By Name"},l.a.createElement("p",{style:{paddingTop:"10px",color:"#5a5a5"}},"If you'd like to search for a plant by name, you can search here:"),l.a.createElement(v,{style:{maxWidth:"75%",marginLeft:"10%",border:"1px solid #78C2AD"},onChange:function(e){const t=e.target.value;u(t)},name:"searchName",placeholder:"Search by Name"}),l.a.createElement(h.a,{disabled:!m,onClick:function(t){t.preventDefault(),O(!0),e.setSearchResults([]),F.getPlantsByName(m).then(t=>{e.setSearchResults(t.data),O(!1)})}},"Get Plants By Name")))),l.a.createElement("div",{style:{marginBottom:"100px"}},l.a.createElement(j,{userName:e.userName,userIp:e.userIp,userZip:e.userZip,searchResults:e.searchResults,loadActivityFeed:k,loadFavorites:e.loadFavorites,setShowSpinner:O,showSpinner:S}))),l.a.createElement(b,{size:"md-4 sm-12"},l.a.createElement(g,null,l.a.createElement("h1",null,"Plants On My List")),l.a.createElement(C,{deleteFavorite:function(t){p.deletePlant(t).then(()=>e.loadFavorites()).catch(e=>e)},favorites:e.userFavorites})),l.a.createElement(b,{size:"md-3"},l.a.createElement(g,null,l.a.createElement("h1",null,"Fav Live Feed")),l.a.createElement(N,{data:r}))))};var I=function(){return l.a.createElement(f,{fluid:!0},l.a.createElement(x,null,l.a.createElement(b,{size:"md-12"},l.a.createElement(g,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var P=()=>{const e={color:"pink"},t={fontSize:"10px",margin:"0",paddingTop:"4px"};return l.a.createElement("div",{style:{zIndex:"10",position:"fixed",left:"0",bottom:"0",width:"100%",textAlign:"center",backgroundColor:"#78C2AD",color:"cornsilk",boxShadow:"0px 0px 10px 10px pink",height:"40px"}},l.a.createElement("p",{style:t},"Quokka (c) 2020 by Andy J Chen, Ian Johnson, Max Lemieux. Built with ",l.a.createElement("a",{style:e,href:"https://trefle.io"},"Trefle")," and ",l.a.createElement("a",{style:e,href:"https://github.com/waldoj/frostline"},"Frostline")),l.a.createElement("p",{style:t},"This product includes GeoLite2 data created by MaxMind, available from ",l.a.createElement("a",{style:e,href:"https://www.maxmind.com"},"https://www.maxmind.com")))},A=a(110),T=a(108),L=a(63),z=a(109),Z=a(22),D=a(23),G=a(107),U=a(61),M=a(62);function W(){const e=Object(Z.a)(["\n    background: #114b74;\n    color: #fff;\n    border-radius: 5px;\n    padding: 5px 20px;\n    margin: auto;\n    -webkit-box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12),\n        0 11px 15px -7px rgba(0, 0, 0, 0.2);\n    box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12),\n        0 11px 15px -7px rgba(0, 0, 0, 0.2);\n    &:hover {\n        background: #1b791e;\n        border-color: white;\n    }\n"]);return W=function(){return e},e}function q(){const e=Object(Z.a)(["\n    height: 100% !important;\n    display: flex;\n    margin-top: -15px;\n    margin-bottom: 15px;\n"]);return q=function(){return e},e}function J(){const e=Object(Z.a)(["\n    font-size: 80%;\n    font-weight: 400;\n"]);return J=function(){return e},e}function K(){const e=Object(Z.a)(["\n    padding: 20px 0 0 0;\n    font-weight: bolder;\n"]);return K=function(){return e},e}function H(){const e=Object(Z.a)(["\n    font-size: 160%;\n"]);return H=function(){return e},e}function Q(){const e=Object(Z.a)(["\n    font-size: 160%;\n"]);return Q=function(){return e},e}function X(){const e=Object(Z.a)(["\n    padding: 0 25px 25px 25px;\n"]);return X=function(){return e},e}const Y=Object(D.a)(G.a)(X()),V=Object(D.a)(U.a)(Q()),$=Object(D.a)(M.a)(H()),ee=Object(D.a)("h4")(K()),te=Object(D.a)("span")(J()),ae=Object(D.a)("div")(q()),ne=Object(D.a)(h.a)(W()),le=e=>{const t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),u=m[0],p=m[1];return l.a.createElement(A.a,{onSubmit:t=>{t.preventDefault();const a={email:r,password:u};o.a.post("/api/auth/register_login",a).then(t=>{e.setUserName(t.data.email),e.setSearchResults([])}).catch(e=>e)}},l.a.createElement(A.a.Group,{controlId:"formBasicEmail"},l.a.createElement(T.a,null,l.a.createElement(A.a.Label,{column:!0,xs:"2",sm:"1"},l.a.createElement(V,null)),l.a.createElement(L.a,{xs:"10",sm:"11"},l.a.createElement(A.a.Control,{type:"email",placeholder:"Enter email",onChange:e=>{c(e.target.value)},required:!0}),l.a.createElement(A.a.Control.Feedback,null,"Looks good!"),l.a.createElement(A.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")))),l.a.createElement(A.a.Group,{controlId:"formBasicPassword"},l.a.createElement(T.a,null,l.a.createElement(A.a.Label,{column:!0,xs:"2",sm:"1"},l.a.createElement($,null)),l.a.createElement(L.a,{xs:"10",sm:"11"},l.a.createElement(A.a.Control,{type:"password",placeholder:"Password",onChange:e=>p(e.target.value)}),l.a.createElement(A.a.Control.Feedback,null,"Looks good!")))),l.a.createElement(A.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(T.a,null,l.a.createElement(L.a,{xs:"2",sm:"1"},l.a.createElement(A.a.Check,{type:"checkbox"})),l.a.createElement(L.a,{xs:"10",sm:"11"},l.a.createElement(A.a.Label,null,l.a.createElement(te,null,"Yes, please send me occasional updates about the app"))))),l.a.createElement(ae,null,l.a.createElement(ne,{onClick:()=>e.setShow(!1),type:"submit"},"Submit")))};var re=e=>l.a.createElement(z.a,{show:e.show,onHide:()=>e.setShow(!1)},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Sign up / Login")),l.a.createElement(Y,null,l.a.createElement(ee,null,"With email:"),l.a.createElement("br",null),l.a.createElement(le,{setUserName:e.setUserName,setShow:e.setShow}),l.a.createElement(T.a,{style:{borderBottom:"1px solid #dee2e6"}})));var ce=e=>{const t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1];return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary sticky-top",style:{boxShadow:"0px 5px 10px 5px pink",marginBottom:"30px"}},l.a.createElement("a",{className:"navbar-brand",href:"/"},l.a.createElement("img",{src:"../img/quokka-logo.png",alt:"logo",style:{width:"65px",height:"65px",margin:"0px 10px 25px 0px",position:"absolute"}}),l.a.createElement("p",{style:{position:"relative",padding:"12px 0px 0px 75px",color:"cornsilk",fontSize:"30px",fontFamily:"Chalkduster, fantasy"}},"quokka")),l.a.createElement("div",{style:{position:"absolute",left:"85%",textAlign:"center"}},l.a.createElement("p",null,"Welcome, ",l.a.createElement("b",null,e.userName)),l.a.createElement(re,{show:r,setShow:c,setSearchResults:e.setSearchResults,setUserName:e.setUserName}),"guest"===e.userName&&l.a.createElement("button",{onClick:()=>c(!0)},"Login"),"guest"!==e.userName&&l.a.createElement("button",{onClick:()=>{o.a.get("/api/auth/logout").then(()=>{e.setUserName("guest"),e.setSearchResults([])})}},"Logout")))};var se=function(){const e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(s.a)(c,2),d=i[0],E=i[1],h=Object(n.useState)(""),g=Object(s.a)(h,2),f=g[0],x=g[1],b=Object(n.useState)([]),v=Object(s.a)(b,2),y=v[0],w=v[1],N=Object(n.useState)([]),S=Object(s.a)(N,2),j=S[0],O=S[1];function k(){p.getPlants().then(e=>{w(e.data)}).catch(e=>e)}return Object(n.useEffect)(()=>{o.a.get("/api/auth/user_data").then(e=>{e.data.email?(r(e.data.email),E(e.data.ip)):(r("guest"),E(e.data.ip))})},[]),Object(n.useEffect)(()=>{k()},[a]),l.a.createElement(m.a,null,l.a.createElement(ce,{userName:a,setUserName:r,searchResults:j,setSearchResults:O}),l.a.createElement("div",null,l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(B,{userFavorites:y,loadFavorites:k,userName:a,userIp:d,userZip:f,setUserZip:x,searchResults:j,setSearchResults:O})),l.a.createElement(u.a,null,l.a.createElement(I,null)))),l.a.createElement(P,null))};c.a.render(l.a.createElement(se,null),document.getElementById("root"))},69:function(e,t,a){e.exports=a(103)},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.d3f62fe5.chunk.js.map