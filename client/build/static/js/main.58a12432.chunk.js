(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(21),c=a.n(r),o=a(10),s=a(9),i=a.n(s),m=a(67),u=a(8),p=a(110),d=a(104),E=a(105);var g=function({children:e}){return l.a.createElement("div",{style:{height:200,clear:"both",paddingTop:30,textAlign:"center",boxShadow:"0px 5px 5px 5px #78C2AD"},className:"jumbotron"},e)};function h({fluid:e,children:t}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function f({fluid:e,children:t}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function b({size:e,children:t}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-".concat(e)).join(" ")},t)}function x(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}a(90);function v(e){return l.a.createElement("div",null,l.a.createElement("ul",null,e.data.map(e=>l.a.createElement("li",{className:"list-overflow-container",key:e._id},e.images[1]&&l.a.createElement("img",{width:"100%",src:e.images[1].url,alt:e.scientific_name}),e.user_name," quokked ",e.common_name?e.common_name:e.scientific_name))))}a(91),a(92);function y({children:e}){return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},e))}function N({children:e}){return l.a.createElement("li",{className:"list-group-item"},e)}var j={getPlants:()=>i.a.get("/api/plants"),getPlant:e=>i.a.get("/api/plants/".concat(e)),deletePlant:e=>i.a.delete("/api/plants/".concat(e)),savePlant:e=>i.a.post("/api/plants",e),searchPlantName:e=>i.a.get("/api/plants/species/".concat(e)),findRecent:()=>i.a.get("/api/plants/recent"),plantDetails:e=>i.a.get("/api/trefle/species/".concat(e))};function w(e){function t(){j.getPlants().then(t=>{e.setUserFavorites(t.data)}).catch(e=>console.log(e))}return l.a.createElement("div",{className:"list-overflow-container"},e.showSpinner&&l.a.createElement("div",null,l.a.createElement("p",null,"Loading...")),l.a.createElement("ul",{className:"list-group"},e.searchResults&&e.searchResults.map(a=>l.a.createElement(O,{userName:e.userName,userIp:e.userIp,loadActivityFeed:e.loadActivityFeed,loadPlants:t,result:a,key:a.id}))))}function O(e){const t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return j.getPlant(e.result.id).then(e=>{e.data.exists?c(!0):c(!1)}).catch(e=>e),l.a.createElement("li",{className:"list-group-item"},l.a.createElement(y,null,e.result.common_name&&l.a.createElement(N,null,l.a.createElement("b",null,e.result.common_name)),l.a.createElement(N,null,"Scientific Name: ",e.result.scientific_name)),!r&&l.a.createElement("button",{onClick:()=>{return t=e.result.id,void j.plantDetails(t).then(t=>{t.data.user_name=e.userName,t.data.ip=e.userIp,t.data.trefle_id=t.data.id,j.savePlant(t.data).then(()=>{e.loadPlants(),e.loadActivityFeed()})}).catch(e=>e);var t}},"Save to Favorites"),r&&l.a.createElement("strong",null,"Favorite! This plant is on your list."))}a(93),a(94);var k=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};function S({deleteFavorite:e,favorites:t}){return t.length?l.a.createElement(y,null,t.map(t=>l.a.createElement(N,{key:t.trefle_id},l.a.createElement("p",null,l.a.createElement("strong",null,t.common_name)),l.a.createElement("p",null,t.scientific_name),l.a.createElement(k,{onClick:()=>e(t._id)}),l.a.createElement("br",null),t.images[0]&&l.a.createElement("img",{width:"300px",src:t.images[0].url,alt:t.scientific_name})))):l.a.createElement("h3",null,"No Results to Display")}var C={getPlantsByMinTemp:e=>i.a.get("/api/trefle/temperature_minimum_deg_f/".concat(e)),getPlantsByName:e=>i.a.get("/api/trefle/name/".concat(e))},F={getTemperatureByZipcode:e=>i.a.get("/api/phzmapi/".concat(e))},P={getZipCodeByIp:e=>i.a.get("/api/geoip/".concat(e)).postal.code};var _=function(e){const t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1],y=Object(n.useState)([]),N=Object(o.a)(y,2),O=N[0],k=N[1],_=Object(n.useState)(!1),B=Object(o.a)(_,2),I=B[0],A=B[1];function L(){j.getPlants().then(t=>{e.setUserFavorites(t.data)}).catch(e=>e)}function U(){j.findRecent().then(e=>c(e.data)).catch(e=>e)}return Object(n.useEffect)(()=>{L()}),Object(n.useEffect)(()=>{U()},[]),Object(n.useEffect)(()=>{}),l.a.createElement(h,{fluid:!0},l.a.createElement(f,null,l.a.createElement(b,{size:"md-5"},l.a.createElement(g,null,l.a.createElement("h1",null,"What Should I Plant?")),l.a.createElement("div",{style:{border:"3px solid #78C2AD",borderRadius:"10px",textAlign:"center",boxShadow:"0px 5px 5px 3px #F3969A",paddingBottom:"10px"}},l.a.createElement(p.a,{defaultActiveKey:"Get Suggestions"},l.a.createElement(d.a,{eventKey:"Get Suggestions",title:"Get Suggestions"},l.a.createElement("p",null,"Click the Button to Get Suggestions!"),l.a.createElement(E.a,{onClick:function(e){e.preventDefault(),A(!0),console.log(P("73.180.53.30")),F.getTemperatureByZipcode(97203).then(e=>{const t=e.data.temperature_range.split(" ")[0];C.getPlantsByMinTemp(t).then(e=>{u(e.data),A(!1)})})}},"Get Suggestions")),l.a.createElement(d.a,{eventKey:"Search By Name",title:"Search By Name"},l.a.createElement("p",null,"If you'd like to search for a plant by name, you can search here."),l.a.createElement(x,{onChange:function(e){const t=e.target.value;k(t)},name:"searchName",placeholder:"Search by Name"}),l.a.createElement(E.a,{onClick:function(e){e.preventDefault(),A(!0),C.getPlantsByName(O).then(e=>{u(e.data),A(!1)})}},"Get Plants By Name")))),l.a.createElement("div",{style:{marginBottom:"100px"}},l.a.createElement(w,{userName:e.userName,userIp:e.userIp,searchResults:m,loadActivityFeed:U,setUserFavorites:e.setUserFavorites,setShowSpinner:A,showSpinner:I}))),l.a.createElement(b,{size:"md-4 sm-12"},l.a.createElement(g,null,l.a.createElement("h1",null,"Plants On My List")),l.a.createElement(S,{deleteFavorite:function(e){j.deletePlant(e).then(()=>L()).catch(e=>e)},favorites:e.userFavorites})),l.a.createElement(b,{size:"md-3"},l.a.createElement(g,null,l.a.createElement("h1",null,"Fav Live Feed")),l.a.createElement(v,{data:r}))))};var B=function(){return l.a.createElement(h,{fluid:!0},l.a.createElement(f,null,l.a.createElement(b,{size:"md-12"},l.a.createElement(g,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var I=()=>{const e={color:"pink"},t={fontSize:"10px",margin:"0",paddingTop:"4px"};return l.a.createElement("div",{style:{position:"fixed",left:"0",bottom:"0",width:"100%",textAlign:"center",backgroundColor:"#78C2AD",color:"cornsilk",boxShadow:"0px 0px 10px 10px pink",height:"40px"}},l.a.createElement("p",{style:t},"Quokka (c) 2020 by Andy J Chen, Ian Johnson, Max Lemieux. Built with ",l.a.createElement("a",{style:e,href:"https://trefle.io"},"Trefle")),l.a.createElement("p",{style:t},"This product includes GeoLite2 data created by MaxMind, available from ",l.a.createElement("a",{style:e,href:"https://www.maxmind.com"},"https://www.maxmind.com")))},A=a(109),L=a(107),U=a(63),z=a(108),T=a(22),G=a(23),D=a(106),R=a(61),M=a(62);function W(){const e=Object(T.a)(["\n    background: #114b74;\n    color: #fff;\n    border-radius: 5px;\n    padding: 5px 20px;\n    margin: auto;\n    -webkit-box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12),\n        0 11px 15px -7px rgba(0, 0, 0, 0.2);\n    box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12),\n        0 11px 15px -7px rgba(0, 0, 0, 0.2);\n    &:hover {\n        background: #1b791e;\n        border-color: white;\n    }\n"]);return W=function(){return e},e}function q(){const e=Object(T.a)(["\n    height: 100% !important;\n    display: flex;\n    margin-top: -15px;\n    margin-bottom: 15px;\n"]);return q=function(){return e},e}function J(){const e=Object(T.a)(["\n    font-size: 80%;\n    font-weight: 400;\n"]);return J=function(){return e},e}function K(){const e=Object(T.a)(["\n    padding: 20px 0 0 0;\n    font-weight: bolder;\n"]);return K=function(){return e},e}function Z(){const e=Object(T.a)(["\n    font-size: 160%;\n"]);return Z=function(){return e},e}function H(){const e=Object(T.a)(["\n    font-size: 160%;\n"]);return H=function(){return e},e}function Q(){const e=Object(T.a)(["\n    padding: 0 25px 25px 25px;\n"]);return Q=function(){return e},e}const Y=Object(G.a)(D.a)(Q()),V=Object(G.a)(R.a)(H()),X=Object(G.a)(M.a)(Z()),$=Object(G.a)("h4")(K()),ee=Object(G.a)("span")(J()),te=Object(G.a)("div")(q()),ae=Object(G.a)(E.a)(W()),ne=e=>{const t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),u=m[0],p=m[1];return l.a.createElement(A.a,{onSubmit:t=>{t.preventDefault();const a={email:r,password:u};i.a.post("/api/auth/register_login",a).then(t=>{e.setUserName(t.data.email)}).catch(e=>e)}},l.a.createElement(A.a.Group,{controlId:"formBasicEmail"},l.a.createElement(L.a,null,l.a.createElement(A.a.Label,{column:!0,xs:"2",sm:"1"},l.a.createElement(V,null)),l.a.createElement(U.a,{xs:"10",sm:"11"},l.a.createElement(A.a.Control,{type:"email",placeholder:"Enter email",onChange:e=>{c(e.target.value)},required:!0}),l.a.createElement(A.a.Control.Feedback,null,"Looks good!"),l.a.createElement(A.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")))),l.a.createElement(A.a.Group,{controlId:"formBasicPassword"},l.a.createElement(L.a,null,l.a.createElement(A.a.Label,{column:!0,xs:"2",sm:"1"},l.a.createElement(X,null)),l.a.createElement(U.a,{xs:"10",sm:"11"},l.a.createElement(A.a.Control,{type:"password",placeholder:"Password",onChange:e=>p(e.target.value)}),l.a.createElement(A.a.Control.Feedback,null,"Looks good!")))),l.a.createElement(A.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(L.a,null,l.a.createElement(U.a,{xs:"2",sm:"1"},l.a.createElement(A.a.Check,{type:"checkbox"})),l.a.createElement(U.a,{xs:"10",sm:"11"},l.a.createElement(A.a.Label,null,l.a.createElement(ee,null,"Yes, please send me occasional updates about the app"))))),l.a.createElement(te,null,l.a.createElement(ae,{onClick:()=>e.setShow(!1),type:"submit"},"Submit")))};var le=e=>l.a.createElement(z.a,{show:e.show,onHide:()=>e.setShow(!1)},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Sign up / Login")),l.a.createElement(Y,null,l.a.createElement($,null,"With email:"),l.a.createElement("br",null),l.a.createElement(ne,{setUserName:e.setUserName,setShow:e.setShow}),l.a.createElement(L.a,{style:{borderBottom:"1px solid #dee2e6"}})));var re=e=>{const t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary sticky-top",style:{boxShadow:"0px 5px 10px 5px pink",marginBottom:"20px"}},l.a.createElement("a",{className:"navbar-brand",href:"/"},l.a.createElement("img",{src:"../img/quokka-logo.png",alt:"logo",style:{width:"65px",height:"65px",margin:"0px 10px 25px 0px",position:"absolute"}}),l.a.createElement("p",{style:{position:"relative",padding:"12px 0px 0px 75px",color:"cornsilk",fontSize:"30px",fontFamily:"Chalkduster, fantasy"}},"quokka")),l.a.createElement("p",null,"Welcome, ",l.a.createElement("b",null,e.userName)),l.a.createElement(le,{show:r,setShow:c,setUserName:e.setUserName}),l.a.createElement("div",{className:"container"},"guest"===e.userName&&l.a.createElement("button",{onClick:()=>c(!0)},"Login"),"guest"!==e.userName&&l.a.createElement("button",{onClick:()=>i.a.get("/api/auth/logout").then(e.setUserName("guest"))},"Logout")))};var ce=function(){const e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),p=s[0],d=s[1],E=Object(n.useState)([]),g=Object(o.a)(E,2),h=g[0],f=g[1];return Object(n.useEffect)(()=>{i.a.get("/api/auth/user_data").then(e=>{e.data.email?(r(e.data.email),d(e.data.ip)):(r("guest"),d(e.data.ip))})},[]),l.a.createElement(m.a,null,l.a.createElement(re,{userName:a,setUserName:r}),l.a.createElement("div",null,l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(_,{userFavorites:h,setUserFavorites:f,userName:a,userIp:p})),l.a.createElement(u.a,null,l.a.createElement(B,null)))),l.a.createElement(I,null))};c.a.render(l.a.createElement(ce,null),document.getElementById("root"))},69:function(e,t,a){e.exports=a(102)},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.58a12432.chunk.js.map