(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(21),c=a.n(r),o=a(10),s=a(9),i=a.n(s),m=a(67),u=a(8),p=a(109),d=a(103),E=a(104);a(90);var h=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};var g=function({children:e}){return l.a.createElement("div",{style:{height:200,clear:"both",paddingTop:30,textAlign:"center",boxShadow:"0px 5px 5px 5px #78C2AD"},className:"jumbotron"},e)},b={getPlants:()=>i.a.get("/api/plants"),getPlant:e=>i.a.get("/api/plants/".concat(e)),deletePlant:e=>i.a.delete("/api/plants/".concat(e)),savePlant:e=>i.a.post("/api/plants",e),searchPlantName:e=>i.a.get("/api/plants/species/".concat(e)),findRecent:()=>i.a.get("/api/plants/recent"),plantDetails:e=>i.a.get("/api/trefle/species/".concat(e))};function f({fluid:e,children:t}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function x({fluid:e,children:t}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function v({size:e,children:t}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-".concat(e)).join(" ")},t)}a(91);function y({children:e}){return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},e))}function N({children:e}){return l.a.createElement("li",{className:"list-group-item"},e)}function j(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}a(92);function w(e){return l.a.createElement("div",null,l.a.createElement("ul",null,e.data.map(e=>l.a.createElement("li",{key:e.id},e.user_name," quokked ",e.scientific_name))))}a(93);function O(e){function t(){b.getPlants().then(t=>{e.setPlants(t.data)}).catch(e=>console.log(e))}return l.a.createElement("div",{className:"list-overflow-container"},e.showSpinner&&l.a.createElement("div",null,l.a.createElement("p",null,"Loading...")),l.a.createElement("ul",{className:"list-group"},e.searchResults.data&&e.searchResults.data.map(a=>l.a.createElement(k,{userName:e.userName,userIp:e.userIp,loadFavorites:e.loadFavorites,loadPlants:t,result:a,key:a.id}))))}function k(e){const t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return b.getPlant(e.result.id).then(e=>{e.data.exists?c(!0):c(!1)}).catch(e=>e),l.a.createElement("li",{className:"list-group-item"},l.a.createElement(y,null,e.result.common_name&&l.a.createElement(N,null,l.a.createElement("b",null,e.result.common_name)),l.a.createElement(N,null,"Scientific Name: ",e.result.scientific_name)),!r&&l.a.createElement("button",{onClick:()=>{var t;t=e.result.id,b.plantDetails(t).then(t=>{t.data.user_name=e.userName,t.data.ip=e.userIp,t.data.trefle_id=t.data.id,b.savePlant(t.data).then(()=>{e.loadPlants(),e.loadFavorites()})}).catch(e=>e)}},"Save to Favorites"),r&&l.a.createElement("strong",null,"Favorite!"))}var S={getPlantsByMinTemp:e=>i.a.get("/api/trefle/temperature_minimum_deg_f/".concat(e)),getPlantsByName:e=>i.a.get("/api/trefle/name/".concat(e))},P={getTemperatureByZipcode:e=>i.a.get("/api/phzmapi/".concat(e))};var C=function(e){const t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1],k=Object(n.useState)([]),C=Object(o.a)(k,2),B=C[0],F=C[1],_=Object(n.useState)([]),I=Object(o.a)(_,2),L=I[0],z=I[1],G=Object(n.useState)(!1),T=Object(o.a)(G,2),A=T[0],D=T[1];function R(){b.getPlants().then(e=>c(e.data)).catch(e=>e)}function U(){b.findRecent().then(e=>u(e.data)).catch(e=>e)}return Object(n.useEffect)(()=>{R()},[]),Object(n.useEffect)(()=>{U()},[]),Object(n.useEffect)(()=>{}),l.a.createElement(f,{fluid:!0},l.a.createElement(x,null,l.a.createElement(v,{size:"md-5"},l.a.createElement(g,null,l.a.createElement("h1",null,"What Should I Plant?")),l.a.createElement("div",{style:{border:"3px solid #78C2AD",borderRadius:"10px",textAlign:"center",boxShadow:"0px 5px 5px 3px #F3969A",paddingBottom:"10px"}},l.a.createElement(p.a,{defaultActiveKey:"Get Suggestions"},l.a.createElement(d.a,{eventKey:"Get Suggestions",title:"Get Suggestions"},l.a.createElement("p",null,"Click the Button to Get Suggestions!"),l.a.createElement(E.a,{onClick:function(e){e.preventDefault(),D(!0),P.getTemperatureByZipcode(99518).then(e=>{const t=e.data.temperature_range.split(" ")[0];S.getPlantsByMinTemp(t).then(e=>{F(e),D(!1)})})}},"Get Suggestions")),l.a.createElement(d.a,{eventKey:"Search By Name",title:"Search By Name"},l.a.createElement("p",null,"If you'd like to search for a plant by name, you can search here."),l.a.createElement(j,{onChange:function(e){const t=e.target.value;z(t)},name:"searchName",placeholder:"Search by Name"}),l.a.createElement(E.a,{onClick:function(e){e.preventDefault(),S.getPlantsByName(L).then(e=>{F(e)})}},"Get Plants By Name")))),l.a.createElement("div",{style:{marginBottom:"100px"}},l.a.createElement(O,{userName:e.userName,userIp:e.userIp,searchResults:B,loadFavorites:U,setPlants:c,setShowSpinner:D,showSpinner:A}))),l.a.createElement(v,{size:"md-4 sm-12"},l.a.createElement(g,null,l.a.createElement("h1",null,"Plants On My List")),r.length?l.a.createElement(y,null,r.map(e=>l.a.createElement(N,{key:e._id},l.a.createElement("strong",null,e.scientific_name),l.a.createElement(h,{onClick:()=>{return t=e._id,void b.deletePlant(t).then(()=>R()).catch(e=>e);var t}})))):l.a.createElement("h3",null,"No Results to Display"),r.length&&"guest"===e.userName?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Want to view your favorite plants from anywhere?"),l.a.createElement("p",null,"Sign up for an account - it's always free!")):l.a.createElement(l.a.Fragment,null)),l.a.createElement(v,{size:"md-3"},l.a.createElement(g,null,l.a.createElement("h1",null,"Fav Live Feed")),l.a.createElement(w,{data:m}))))};var B=function(){return l.a.createElement(f,{fluid:!0},l.a.createElement(x,null,l.a.createElement(v,{size:"md-12"},l.a.createElement(g,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var F=()=>{const e={fontSize:"10px",margin:"0",paddingTop:"4px"};return l.a.createElement("div",{style:{position:"fixed",left:"0",bottom:"0",width:"100%",textAlign:"center",backgroundColor:"#78C2AD",color:"cornsilk",boxShadow:"0px 0px 10px 10px pink",height:"40px"}},l.a.createElement("p",{style:e},"Quokka (c) 2020 by Andy J Chen, Ian Johnson, Max Lemieux"),l.a.createElement("p",{style:e},"This product includes GeoLite2 data created by MaxMind, available from ",l.a.createElement("a",{style:{color:"pink"},href:"https://www.maxmind.com"},"https://www.maxmind.com")),l.a.createElement("p",{style:e},"Built with ",l.a.createElement("a",{href:"https://trefle.io"},"Trefle")))},_=a(108),I=a(106),L=a(63),z=a(107),G=a(22),T=a(23),A=a(105),D=a(61),R=a(62);function U(){const e=Object(G.a)(["\n    background: #114b74;\n    color: #fff;\n    border-radius: 5px;\n    padding: 5px 20px;\n    margin: auto;\n    -webkit-box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12),\n        0 11px 15px -7px rgba(0, 0, 0, 0.2);\n    box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12),\n        0 11px 15px -7px rgba(0, 0, 0, 0.2);\n    &:hover {\n        background: #1b791e;\n        border-color: white;\n    }\n"]);return U=function(){return e},e}function M(){const e=Object(G.a)(["\n    height: 100% !important;\n    display: flex;\n    margin-top: -15px;\n    margin-bottom: 15px;\n"]);return M=function(){return e},e}function W(){const e=Object(G.a)(["\n    font-size: 80%;\n    font-weight: 400;\n"]);return W=function(){return e},e}function q(){const e=Object(G.a)(["\n    padding: 20px 0 0 0;\n    font-weight: bolder;\n"]);return q=function(){return e},e}function J(){const e=Object(G.a)(["\n    font-size: 160%;\n"]);return J=function(){return e},e}function K(){const e=Object(G.a)(["\n    font-size: 160%;\n"]);return K=function(){return e},e}function H(){const e=Object(G.a)(["\n    padding: 0 25px 25px 25px;\n"]);return H=function(){return e},e}const Z=Object(T.a)(A.a)(H()),Q=Object(T.a)(D.a)(K()),Y=Object(T.a)(R.a)(J()),V=Object(T.a)("h4")(q()),X=Object(T.a)("span")(W()),$=Object(T.a)("div")(M()),ee=Object(T.a)(E.a)(U()),te=e=>{const t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),u=m[0],p=m[1];return l.a.createElement(_.a,{onSubmit:t=>{t.preventDefault();const a={email:r,password:u};i.a.post("/api/auth/register_login",a).then(t=>{e.setUserName(t.data.email)}).catch(e=>e)}},l.a.createElement(_.a.Group,{controlId:"formBasicEmail"},l.a.createElement(I.a,null,l.a.createElement(_.a.Label,{column:!0,xs:"2",sm:"1"},l.a.createElement(Q,null)),l.a.createElement(L.a,{xs:"10",sm:"11"},l.a.createElement(_.a.Control,{type:"email",placeholder:"Enter email",onChange:e=>{c(e.target.value)},required:!0}),l.a.createElement(_.a.Control.Feedback,null,"Looks good!"),l.a.createElement(_.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")))),l.a.createElement(_.a.Group,{controlId:"formBasicPassword"},l.a.createElement(I.a,null,l.a.createElement(_.a.Label,{column:!0,xs:"2",sm:"1"},l.a.createElement(Y,null)),l.a.createElement(L.a,{xs:"10",sm:"11"},l.a.createElement(_.a.Control,{type:"password",placeholder:"Password",onChange:e=>p(e.target.value)}),l.a.createElement(_.a.Control.Feedback,null,"Looks good!")))),l.a.createElement(_.a.Group,{controlId:"formBasicCheckbox"},l.a.createElement(I.a,null,l.a.createElement(L.a,{xs:"2",sm:"1"},l.a.createElement(_.a.Check,{type:"checkbox"})),l.a.createElement(L.a,{xs:"10",sm:"11"},l.a.createElement(_.a.Label,null,l.a.createElement(X,null,"Yes, please send me occasional updates about the app"))))),l.a.createElement($,null,l.a.createElement(ee,{onClick:()=>e.setShow(!1),type:"submit"},"Submit")))};var ae=e=>l.a.createElement(z.a,{show:e.show,onHide:()=>e.setShow(!1)},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Sign up / Login")),l.a.createElement(Z,null,l.a.createElement(V,null,"With email:"),l.a.createElement("br",null),l.a.createElement(te,{setUserName:e.setUserName,setShow:e.setShow}),l.a.createElement(I.a,{style:{borderBottom:"1px solid #dee2e6"}})));var ne=e=>{const t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary sticky-top",style:{boxShadow:"0px 5px 10px 5px pink",marginBottom:"20px"}},l.a.createElement("a",{className:"navbar-brand",href:"/"},l.a.createElement("img",{src:"../img/quokka-logo.png",alt:"logo",style:{width:"65px",height:"65px",margin:"0px 10px 25px 0px",position:"absolute"}}),l.a.createElement("p",{style:{position:"relative",padding:"12px 0px 0px 75px",color:"cornsilk",fontSize:"30px",fontFamily:"Chalkduster, fantasy"}},"quokka")),l.a.createElement("p",null,"Welcome, ",l.a.createElement("b",null,e.userName)),l.a.createElement(ae,{show:r,setShow:c,setUserName:e.setUserName}),l.a.createElement("div",{className:"container"},"guest"===e.userName&&l.a.createElement("button",{onClick:()=>c(!0)},"Login"),"guest"!==e.userName&&l.a.createElement("button",{onClick:()=>i.a.get("/api/auth/logout").then(e.setUserName("guest"))},"Logout")))};var le=function(){const e=Object(n.useState)("guest"),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),p=s[0],d=s[1];return Object(n.useEffect)(()=>{i.a.get("/api/auth/user_data").then(e=>{e.data.email?(r(e.data.email),d(e.data.ip)):d(e.data.ip)})},[]),l.a.createElement(m.a,null,l.a.createElement(ne,{userName:a,setUserName:r}),l.a.createElement("div",null,l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(C,{userName:a,userIp:p})),l.a.createElement(u.a,null,l.a.createElement(B,null)))),l.a.createElement(F,null))};c.a.render(l.a.createElement(le,null),document.getElementById("root"))},69:function(e,t,a){e.exports=a(101)},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.45a90b9d.chunk.js.map